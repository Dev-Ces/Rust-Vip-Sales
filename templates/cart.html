{% extends 'base.html' %}

{% block title %}Rust VIP - Sepet{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-12 text-center">
        <h1 class="page-title">SEPETİM</h1>
        <p class="lead">Siparişinizi tamamlamak için aşağıdaki adımları izleyin.</p>
    </div>
</div>

<div class="row mt-5">
    <div class="col-lg-8">
        <div class="cart-card">
            <h3>Sipariş Detayları</h3>
            
            <div class="cart-item">
                {% if request.args.get('package') == 'vip' %}
                    <div class="item-name">Rust VIP Paketi</div>
                    <div class="item-price">5 EUR</div>
                    <input type="hidden" id="package-price" value="5">
                    <input type="hidden" id="package-name" value="Rust VIP Paketi">
                {% else %}
                    <div class="item-name">Rust VIP Paketi</div>
                    <div class="item-price">5 EUR</div>
                    <input type="hidden" id="package-price" value="5">
                    <input type="hidden" id="package-name" value="Rust VIP Paketi">
                {% endif %}
            </div>
            
            <div class="cart-total">
                <div class="total-label">Toplam:</div>
                <div class="total-price" id="total-price">
                    {{ vip_price }} EUR
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-4">
        <div class="order-card">
            <h3>Sipariş Bilgileri</h3>
            <form action="{{ url_for('cart') }}" method="POST" id="order-form">
                <div class="mb-3">
                    <label for="steam-id" class="form-label">Steam ID</label>
                    <input type="text" class="form-control" id="steam-id" name="steam_id" required>
                    <div class="form-text">Steam ID'nizi doğru girdiğinizden emin olun.</div>
                </div>
                
                <div class="mb-3">
                    <label class="form-label">Ödeme Yöntemi</label>
                    <div class="payment-methods">
                        <div class="form-check payment-method-item">
                            <input class="form-check-input" type="radio" name="payment_method" id="bitcoin" value="bitcoin" checked>
                            <label class="form-check-label" for="bitcoin">
                                <img src="{{ url_for('static', filename='img/bitcoin.svg') }}" alt="Bitcoin" class="payment-icon">
                                Bitcoin
                            </label>
                        </div>
                        <div class="form-check payment-method-item">
                            <input class="form-check-input" type="radio" name="payment_method" id="ethereum" value="ethereum">
                            <label class="form-check-label" for="ethereum">
                                <img src="{{ url_for('static', filename='img/ethereum.svg') }}" alt="Ethereum" class="payment-icon">
                                Ethereum
                            </label>
                        </div>
                        <div class="form-check payment-method-item">
                            <input class="form-check-input" type="radio" name="payment_method" id="litecoin" value="litecoin">
                            <label class="form-check-label" for="litecoin">
                                <img src="{{ url_for('static', filename='img/litecoin.svg') }}" alt="Litecoin" class="payment-icon">
                                Litecoin
                            </label>
                        </div>
                    </div>
                </div>
                
                <input type="hidden" name="amount" id="amount-input" value="{% if request.args.get('package') == 'standard' %}10{% elif request.args.get('package') == 'premium' %}20{% elif request.args.get('package') == 'elite' %}30{% else %}10{% endif %}">
                
                <div class="form-check mb-3">
                    <input class="form-check-input" type="checkbox" id="terms" required>
                    <label class="form-check-label" for="terms">
                        Kullanım şartlarını ve gizlilik politikasını kabul ediyorum.
                    </label>
                </div>
                
                <button type="submit" class="btn btn-primary btn-lg btn-block">Siparişi Tamamla</button>
            </form>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-md-12">
        <div class="info-card">
            <h3><i class="fas fa-info-circle"></i> Sipariş Bilgileri</h3>
            <ul>
                <li>Ödemeniz onaylandıktan sonra VIP paketiniz otomatik olarak aktifleştirilecektir.</li>
                <li>Ödeme işlemi tamamlandıktan sonra siparişinizin durumunu "Siparişlerim" sayfasından takip edebilirsiniz.</li>
                <li>Steam ID'nizi doğru girdiğinizden emin olun, yanlış ID girişlerinden kaynaklanan sorunlardan sorumlu değiliz.</li>
                <li>Ödeme ile ilgili herhangi bir sorun yaşarsanız Discord sunucumuzdan destek alabilirsiniz.</li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .page-title {
        color: #ff6b00;
        font-weight: bold;
        margin-bottom: 20px;
    }
    
    .cart-card, .order-card {
        background-color: #1e2124;
        border-radius: 10px;
        padding: 20px;
        margin-bottom: 20px;
        border: 1px solid #333;
    }
    
    .cart-card h3, .order-card h3 {
        color: #ff6b00;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid #333;
    }
    
    .cart-item {
        display: flex;
        justify-content: space-between;
        padding: 15px 0;
        border-bottom: 1px solid #333;
    }
    
    .item-name {
        font-weight: bold;
    }
    
    .item-price {
        font-weight: bold;
    }
    
    .cart-total {
        display: flex;
        justify-content: space-between;
        padding-top: 15px;
        font-weight: bold;
        font-size: 1.2rem;
    }
    
    .total-price {
        color: #ff6b00;
    }
    
    .payment-methods {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-top: 10px;
    }
    
    .payment-method-item {
        background-color: #121416;
        border-radius: 5px;
        padding: 10px;
        border: 1px solid #333;
        transition: border-color 0.3s;
    }
    
    .payment-method-item:hover {
        border-color: #ff6b00;
    }
    
    .payment-icon {
        height: 24px;
        margin-right: 10px;
        vertical-align: middle;
    }
    
    .info-card {
        background-color: #1e2124;
        border-radius: 10px;
        padding: 20px;
        border: 1px solid #333;
    }
    
    .info-card h3 {
        color: #ff6b00;
        margin-bottom: 15px;
    }
    
    .info-card ul {
        padding-left: 20px;
    }
    
    .info-card li {
        margin-bottom: 10px;
    }
    
    .btn-block {
        width: 100%;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Steam ID doğrulama
        const steamIdInput = document.getElementById('steam-id');
        const orderForm = document.getElementById('order-form');
        
        orderForm.addEventListener('submit', function(e) {
            const steamId = steamIdInput.value.trim();
            if (steamId.length < 5) {
                e.preventDefault();
                alert('Lütfen geçerli bir Steam ID girin.');
                steamIdInput.focus();
            }
        });
    });
</script>
{% endblock %}